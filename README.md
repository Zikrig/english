# New Year English Challenge Bot

Telegram-бот на **aiogram v3** с админ-панелью для управления отложенными постами и автоматической рассылкой по времени.

## Функционал

- **Регистрация пользователей**: при `/start` пользователь попадает в базу
- **Админ-панель**: `/admin` → список постов кнопками → создать / изменить / удалить
- **Автораcсылка**: каждый пост имеет `send_time` и рассылается всем пользователям один раз

## Установка и запуск

1. **Создайте файл `.env`** на основе `.env_example`:
   ```
   BOT_TOKEN="ваш_токен_бота"
   ADMIN_IDS="123456789,987654321"
   TZ="Europe/Moscow"
   SEED_ON_START="1"
   SEED_JSON_PATH="data/challenge_posts.json"
   ```

2. **Соберите и запустите контейнер**:
   ```bash
   docker-compose up --build -d
   ```

## Использование

### Для пользователей:
- `/start` - Зарегистрироваться (чтобы получать рассылки)

### Для администраторов:
- `/admin` - Открыть админ-меню с кнопками (создание/редактирование/удаление постов и их времени отправки)

## Структура проекта

- `bot/main.py` - Главный файл бота
- `bot/handlers.py` - Пользовательские команды (`/start`)
- `bot/admin_handlers.py` - Админ-панель (`/admin`)
- `bot/db.py` - SQLite (users/posts)
- `bot/scheduler.py` - APScheduler: отправка постов по времени
- `bot/config.py` - Загрузка настроек из `.env`
- `data/challenge_posts.json` - Исходные посты челленджа (автозагрузка при старте)
